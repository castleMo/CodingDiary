# 운영체제와 컴퓨터

## 요약

> - 운영체제의 정의
>   - 컴퓨터 자원을 효율적으로 관리하는 소프트웨어를 운영체제 혹은 OS라 부른다
>   - 운영체제는 사용자에게 인터페이스를 제공하고 응용 프로그램에 컴퓨터 자원을 골고루 배분하여 작업 환경을 만들어 준다
>   - 적당한 시점에 응용 프로그램으로부터 자원을 회수하고 악의적인 응용 프로그램으로부터 컴퓨터를 보호한다
> - 운영체제의 역활과 목표
>   - 컴퓨터 자원을 관리하는 운영체제의 역할은 자원 관리, 자원 보호, 하드웨어 인터페이스 제공, 사용자 인터페이스 제공이다
>   - 운영체제는 이러한 역할을 제대로 수행하여 효율성, 안정성, 확장성, 편리성을 강화할 수 있는 형태로 발전해 왔다
> - 운영체제의 구성
>   - 운영체제의 핵심 기능을 모아놓은 것을 커널이라고 하며 커널에 명령을 내리고 그 결과를 알려주는 것을 사용자 인터페이스라고 한다
>   - 커널과 하드웨어의 인터페이스는 디바이스 드라이버라고 한다
> - 운영체제의 역사
>   1. 작업 방식의 발전
>      - 한 번에 하나의 프로그램만 실행할 수 있는 일괄 작업 시스템(또는 일괄 처리 시스템)에서, 키보드와 모니터가 발명되자 대화형 시스템이 가능해졌다
>      - 이후 CPU 시간을 잘게 나누어 여러 프로그램을 동시에 실행하는 시스템인 시분할 시스템이 등장하였다
>      - 시분할 시스템으로 다중 사용자 시스템이 만들어졌고 이때 만들어진 운영체제가 유닉스다
>   2. 컴퓨팅 환경의 발전
>      - 네트워크상에 분산된 여러 컴퓨터로 작업을 처리하고 그 결과를 상호 교환하도록 구성한 것이 분산 시스템이다
>      - 이것이 발전하여 언제 어디서나 컴퓨팅 파워와 소프트웨어에 접근할 수 있는 유연한 컴퓨터 환경을 제공하는 클라우드 시스템이 개발되었다
> - 시스템 호출과 API, SDK
>   1. 시스템 호출
>      - 커널은 컴퓨터 자원을 사용할 수 있도록 다양한 (시스템) 함수를 제공하는데, 사용자가 자발적으로 커널에 진입할 수 있는 유일한 방법은 시스템 호출뿐이다
>   2. API
>      - 응용 프로그램이 자신과 연관된 프로그램을 만들 수 있도록 제공하는 인터페이스다
>   3. SDK
>      - 프로그램 개발자를 우ㅣgo API, 코드 편집기, 에뮬레이터 같은 각종 개발용 응용 프로그램까지 하나로 묶어서 배포하는 개발 툴이다
> - 커널의 종류
>   1. 단일형 구조 커널
>      - 핵심 기능을 구현하는 모듈들이 구분 없이 하나로 구성된 커널이다
>   2. 계층형 구조 커널
>      - 비슷한 기능을 가진 모듈을 묶어서 하나의 게층으로 만들고, 계층 간의 통신을 통해 운영체제를 구현하는 방식의 커널이다
>   3. 마이크로 구조 커널
>      - 프로세스 관리, 메모리 관리, 프로세스 간 통신 관리 등 가장 기본 기능만 제공하는 커널이다

## 목차
> - [운영체제의 개요](#운영체제의-개요)
>   - [운영체제란](#운영체제operating-system란)
>     - [컴퓨터 구조와 운영체제](#컴퓨터-구조와-운영체제)
>     - [운영체제의 역할](#운영체제의-역할)
>   - [운영체제의 발전](#운영체제의-발전)
>     - [초창기 컴퓨터](#초창기-컴퓨터)
>     - [일괄 처리 시스템](#일괄-처리-시스템)
>     - [대화형 시스템](#대화형-시스템)
>     - [시분할 시스템](#시분할-시스템)
>     - [실시간 시스템](#실시간-시스템)
>     - [분산 시스템](#분산-시스템)
>     - [클라이언트/서버 시스템](#클라이언트서버-시스템)
>     - [P2P 시스템 (peer-to-peer system)](#p2p-시스템-peer-to-peer-system)
>     - [클라우드 컴퓨팅](#클라우드-컴퓨팅)
>     - [사물 인터넷](#사물-인터넷)
>   - [운영체제의 구성](#운영체제의-구성)
>     - [커널과 인터페이스](#커널과-인터페이스)
>     - [시스템 호출과 디바이스 드라이버](#시스템-호출과-디바이스-드라이버)
>     - [커널의 역할과 종류](#커널의-역할과-종류)
>     - [가상머신](#가상머신)

## 운영체제의 개요

### 운영체제(Operating system)란?

- 운용체제는 응용 프로그램의 잘못된 동작으로 컴퓨터가 망가지는 것을 막기 위해 컴퓨터 전체를 관리하고 운영하는 소프트웨어이다

#### 컴퓨터 구조와 운영체제

- 컴퓨터는 하드웨어와 소프트웨어로 구성되어 있다
- 하드웨어는 컴퓨터를 구성하는 기계적인 장치이고, 소프트웨어는 하드웨어를 제어하는 명령어 집합이다
- 운영체제는 커널(kernel)과 인터페이스로 나뉜다
- 커널은 하드웨어를 직접 제어하는 운영체제의 핵심 기능들을 모아놓은 것이다
- 인터페이스는 사용자와 커널 사이의 통신을 담당한다

![컴퓨터의 구조](images/part1/operating-system-structure.png)

#### 운영체제의 역할

1. 자원 관리
   - 컴퓨터 시스템의 자원을 효율적으로 관리한다
   - 자원은 CPU, 메모리, 입출력 장치 등이 있다
2. 자원 보호
   - 컴퓨터 시스템의 자원을 보호한다
   - 자원을 사용하는 응용 프로그램이 다른 응용 프로그램의 자원을 침범하지 못하도록 보호한다
3. 하드웨어 인터페이스 제공
   - 응용 프로그램이 하드웨어를 직접 제어하는 것을 막고, 운영체제를 통해 하드웨어를 제어하도록 한다
   - 응용 프로그램은 운영체제가 제공하는 인터페이스를 통해 하드웨어를 제어한다
4. 사용자 인터페이스 제공

#### 운영체제의 목표

1. 효율성
   - 컴퓨터 시스템의 자원을 효율적으로 관리한다
2. 안정성
   - 컴퓨터 시스템의 자원을 보호한다
   - 응용 프로그램의 잘못된 동작으로 컴퓨터 시스템이 망가지는 것을 막는다
   - 하드웨어적인 보안 문제를 해결한다
   - 시스템에 문제가 발생했을 때 이전으로 복구하는 결함 포용 기능(fault tolerant)을 수행해야 한다
3. 확장성
   - 컴퓨터 시스템의 자원을 쉽게 추가할 수 있도록 설계한다
4. 편리성
   - 사용자가 컴퓨터 시스템을 쉽게 사용할 수 있도록 설계한다
   - 사용자가 컴퓨터 시스템을 쉽게 사용할 수 있도록 사용자 인터페이스를 제공한다

### 운영체제의 발전

- 운영체제는 컴퓨터의 발전과 함께 발전해왔다

_운영체제의 역사 (주변장치 기반)_

|     시기      |       주요기술        |                   특징                    |
| :-----------: | :-------------------: | :---------------------------------------: |
|   1940년대    |         없음          |           - 진공관(0과 1) 사용            |
|   1950년대    | 카드리더, 라인 프린터 | - 일괄 작업 시스템<br/> - 운영체제의 등장 |
| 1960년대 초반 |    키보드, 모니터     |              - 대화형 시스템              |
| 1960년대 후반 |       주요기술        |                   특징                    |
|   1970년대    |       주요기술        |                   특징                    |
|   1990년대    |       주요기술        |                   특징                    |
|   2000년대    |       주요기술        |                   특징                    |

#### 초창기 컴퓨터

- 최초의 컴퓨터인 에니악은 전선을 잭에 꽃아 회로를 연결하여 구성한 30톤 규모의 거대한 계산기로 미사일 탄도를 계산하기 위해 제작되었다
- 백열전구 같은 모양의 진공관을이라는 소자를 사용하여 진공관이 켜지면 1, 꺼지면 0이라고 판단했다
  - 이는 컴퓨터가 2진법을 사용하는 계기가 되었다
- 이렇게 전선을 연결하여 논리회로를 구성하는 것을 하드와이어링(hard wiring)방식 이라고 한다
- 초창기의 컴퓨터에는 운영체제가 없었다

#### 일괄 처리 시스템

- 진공관을 전선으로 연결했던 초창기의 컴퓨터는 기술 발전을 거쳐 IC(Integrated Circuit)라는 칩으로 만들어졌다.
  - 이 칩은 진공관과 전선으로 만들어진 논리회로를 아주 작은 크기로 구현한 것이다
  - IC 칩을 이용함으로써 현대적인 모습의 컴퓨터가 탄생하였다
- 미약하지만 중앙처리장치인 CPU(Central Processing Unit)와 메인메모리가 있었다
  - 키보드와 같은 입력장치, 모니터와 같은 출력장치는 없었다
  - 대신 천공카드 리더(punch card reader)를 입력장치로, 라인 프린터(line printer)를 출력장치로 사용하였다
- 천공카드 시스템에서는 천공카드 리더로 하나의 작업을 읽어들여 실행하고 결과를 출력한 후 다음 작업을 읽어들여 실행한다.
  - 따라서 필요한 프로그램과 데이터를 동시에 입력해야 작업이 가능했다
  - 지금의 프로그래밍 환경과 달리 모든 작업을 한꺼번에 처리해야 하고 프로그램 실행 중간에 사용자가 데이터를 입력하거나 수정하는 것이 불가능했다
- 이러한 방식을 일괄 작업 시스템(batch job system) 또는 일괄 처리 시스템(batch processing system)이라고 한다
- 일괄 처리 시스템에서는 단순 계산 위주의 작업만 가능했다

_일괄 작업 시스템 입출력 장치_

|          장치           |                                                 설명                                                 |
| :---------------------: | :--------------------------------------------------------------------------------------------------: |
| 천공카드 리더(입력장치) | 카드에 구멍을 뚫어 문자를 입력하는 천공카드 리더는 OMR(Optical Mark Reader)의 원조 격이라 할 수 있다 |
|  라인 프린터(출력장치)  |        문자만 출력하는 프린터로 한 번에 한 줄씩 출력하기 때문에 라인프린터라는 이름이 붙었다         |

#### 대화형 시스템

- 1960년대 초반에는 키보드와 모니터가 등장하였다
  - 기존 일괄 작업 시스템은 프로그램과 데이터를 같이 입력하여 작업의 최종 결과만 얻을 수 있었다
  - 그러나 키보드와 모니터가 개발됨으로써 작업 중간에 사용자가 입력을 하거나 사용자에게 중간 결과 값을 보여줄 수 있게 되었다
- 이처럼 컴퓨터와 사용자의 대화를 통해 작업이 이루어지는 시스템을 대화형 시스템(Interactive System)이라고 한다
- 대화형 시스템이 등장하면서 문서 편집기, 게임과 같은 다양한 종류의 응용 프로그램을 만들 수 있게되었다

#### 시분할 시스템

- 1960년대 후반에 컴퓨터는 크기가 작아지고 계산 능력이 향상되었다
  - 하지만 컴퓨터는 여전히 하나의 작업만 수행할 수 있어 낭비 요소가 컸다
- 이러한 인식을 바탕으로 멀티프로그래밍(multiprogramming) 기술이 개발되었다
  - 멀티프로그래밍은 하나의 CPU로 여러 작업을 동시에 실행하는 기술이다
  - 한 번에 한가지 작업만 가능한 일괄 작업 시스템에 비해 효울성이 뛰어나다
- 시분할 시스템이란 여러 작업을 조금씩 처리하여 작업이 동시에 이루어지는 것처럼 보이게 하는 것을 말한다
  - 시분할 시스템에서 동시에 실행되는 작업의 개수를 멀티프로그래밍 수준(level of multiprogramming) 또는 멀티프로그램이 정도(degree of multiprogramming)라고 한다
- 시분할 시스템에서 잘게 나뉜 시간 한 조각을 타임 슬라이스(time slice)또는 타임 퀀텀(time quantum)이라고 한다
- 시분할 시스템의 단점
  - 여러 작업을 동시에 처리하기 위한 추가 작업이 필요하다
  - 일괄 작업 시스템에서 메모리의 사용자 영역에는 프로그램이 하나뿐이지만 시분할 시스템에는 여러개의 프로그램이 공존하여 메모리를 정리하는 추가 작업이 필요하다
  - 시스탬 내에 많은 양의 작업이 공존할 경우, 중요한 작업이 일정 시간 안에 끝나는 것을 보장하지 못한다

> ##### 멀티프로그래밍의 동작 방식
>
> 멀티프로그래밍은 시간 분할 방법을 사용하여 CPU 사용 시간을 아주 잘게 쪼개어 여러 작업을 나누어 실행한다
>
> > 1.  CPU가 작업 A를 실행한다
> > 2.  작업 A가 입출력을 요청하면 CPU는 작업 A를 중단하고 입출력을 처리한다
> > 3.  입출력이 완료되면 CPU는 작업 A를 다시 실행한다
> > 4.  작업 A가 다시 입출력을 요청하면 CPU는 작업 A를 중단하고 입출력을 처리한다
> > 5.  이러한 과정을 반복한다
>
> **오늘날의 컴퓨터에서는 대부분 시분할 시스템이 사용된다**

#### 실시간 시스템

- 특정 시슽메에서 일정 시간 안에 작업이 처리되도록 보장하는 시스템이다
- 실시간 시스템의 종류
  1. 경성 실시간 시스템 (hard real-time system)
     - 지정한 응답 시간을 정확히 지키는 시스템
     - 예) 미사일 제어 시스템, 핵발전소 제어 시스템
  2. 연성 실시간 시스템 (soft real-time system)
     - 지정한 응답 시간을 최대한 지키지만 어느 정도 융통성이 허용된 시스템
     - 예) 멀티미디어 시스템

#### 분산 시스템

- 분산 시스템은 네트워크상에 분산된 여러 컴퓨터로 작업을 처리하고 그 결과를 상호 교환하도록 구성한 시스템이다
- 분산 시스템의 장점
  - 자원 공유
    - 분산 시스템은 여러 대의 컴퓨터가 연결되어 하나의 컴퓨터처럼 동작하기 때문에 자원을 공유할 수 있다
    - 예) 프린터, 파일, 데이터베이스 등
  - 계산 속도 향상
    - 분산 시스템은 여러 대의 컴퓨터가 연결되어 하나의 컴퓨터처럼 동작하기 때문에 계산 속도가 향상된다
    - 예) 대용량 데이터 처리, 병렬 처리 등
  - 신뢰성 향상
    - 분산 시스템은 여러 대의 컴퓨터가 연결되어 하나의 컴퓨터처럼 동작하기 때문에 하나의 컴퓨터가 고장나도 다른 컴퓨터가 작업을 처리할 수 있다
    - 예) 고장난 컴퓨터를 제외하고 작업을 처리할 수 있다
- 분산 시스템의 단점
  - 설계와 구현이 어렵다
    - 분산 시스템은 여러 대의 컴퓨터가 연결되어 하나의 컴퓨터처럼 동작하기 때문에 설계와 구현이 어렵다
    - 예) 네트워크, 보안 등
  - 디버깅이 어렵다
    - 분산 시스템은 여러 대의 컴퓨터가 연결되어 하나의 컴퓨터처럼 동작하기 때문에 디버깅이 어렵다
    - 예) 오류가 발생한 컴퓨터를 찾기 어렵다
  - 성능 저하
    - 분산 시스템은 여러 대의 컴퓨터가 연결되어 하나의 컴퓨터처럼 동작하기 때문에 성능 저하가 발생한다
    - 예) 네트워크 트래픽, 데이터 전송 등

#### 클라이언트/서버 시스템

- 클라이언트/서버 시스템은 서버가 클라이언트의 요청에 따라 서비스를 제공하는 시스템이다
- 클라이언트/서버 시스템의 장점
  - 신뢰성 향상
    - 클라이언트/서버 시스템은 서버가 클라이언트의 요청에 따라 서비스를 제공하기 때문에 하나의 서버가 고장나도 다른 서버가 작업을 처리할 수 있다
    - 예) 고장난 서버를 제외하고 작업을 처리할 수 있다
- 클라이언트/서버 시스템의 단점
  - 성능 저하
    - 클라이언트/서버 시스템은 서버가 클라이언트의 요청에 따라 서비스를 제공하기 때문에 성능 저하가 발생한다
    - 예) 네트워크 트래픽, 데이터 전송 등

#### P2P 시스템 (peer-to-peer system)

- P2P 시스템은 파일을 얻고자 하는 말단 사용자(peer)가 파일을 가진 말단 사용자로부터 직접 다운로드하는 시스템이다

#### 클라우드 컴퓨팅

- 그리드 컴퓨팅 (grid computing)
  - 네트워크 기술이 지금처럼 발전하기 전에 분산 시스템은 특정 영역에서만 사용되다가 그리드 컴퓨팅으로 발전하였다
  - 그리드 컴퓨팅은 여러 곳에 떨어진 컴퓨팅 파워나 소프트웨어을 하나로 묶어 하나의 컴퓨터처럼 사용하는 기술이다
- 클라우드 컴퓨팅 (cloud computing)
  - 하드웨어와 소프트웨어를 클라우드라고 불리는 중앙 시스템에 숨기고 사용자는 필요한 서비스만 그때그때 이용하는 방식의 컴퓨팅 환경을 클라우드 컴퓨팅이라고 한다
- 그리드 컴퓨팅과 클라우드 컴퓨팅 차이
  - 그리드 컴퓨팅은 여러 대의 컴퓨터를 하나의 컴퓨터처럼 사용하는 기술이고, 클라우드 컴퓨팅은 하드웨어와 소프트웨어를 클라우드라고 불리는 중앙 시스템에 숨기고 사용자는 필요한 서비스만 그때그때 이용하는 방식의 컴퓨팅 환경이다

#### 사물 인터넷

- 사물 인터넷은 사물에 센서와 통신 기능을 내장하여 인터넷에 연결하는 기술이다

### 운영체제의 구성

#### 커널과 인터페이스

- 운영체제는 커널과 인터페이스로 구성되어 있다
- 커널(kernel)이란
  - 커널은 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제의 핵심 기능을 구현한 프로그램이다
  - 운영체제의 성능은 커널이 좌우한다
- 인터페이스(interface)란
  - 인터페이스는 사용자와 응용 프로그램에 인접하여 커널에 명령을 전달하고 실행 결과를 사용자와 응용 프로그램에 돌려준다

![운영체제 구조](images/part1/os-kernel-interface.png)

#### 시스템 호출과 디바이스 드라이버

- 시스템 호출(system call)이란
  - 시스템 호출은 커널이 제공하는 시스템 자원을 사용하기 위한 함수다
  - 응용 프로그램이 하드웨어 자원에 접근하거나 운영체제가 제공하는 서비스를 이용하려면 시스템 호출을 사용해야 한다
  - 시스템 호출과 유사한 용어로 응용 프로그램 인터페이스(API, Application Programming Interface)와 시스템 개발자용 키트(SDK, System Developer`s Kit)가 있다
    - API 예) Win32 API, POSIX API
    - SDK 예) Windows SDK, Android SDK
- 디바이스 드라이버(device driver)란
  - 커널과 화드웨어의 인터페이스를 디바이스 드라이버 또는 드라이버라고 부른다
  - 현대의 운영체제에서 커널은 주변장치와 데이터를 주고받는 표준 방식을 정하고 있고 표준을 따르는 주변장치는 컴퓨터에 꽂기만 하면 바로 사용할 수 있다
  - 성능 향상이나 편리성을 위하여 표준외의 기능을 수행하는 경우에는 장치 제작자가 디바이스 드라이버를 따로 준비하고 사용자가 직접 디바이스 드라이버 소프트웨어를 설치해야 주변장치를 온전히 활용할 수 있다
  - 디바이스 드라이버를 추가로 설치해야 하는 대표적인 주변장치로 그래픽 카드와 프린터가 있다

#### 커널의 역할과 종류

- 커널의 역할
  1. 프로세스 관리: 프로세스에 CPU를 배분하고 작업에 필요한 제반 환경을 제공한다
  2. 메모리 관리: 프로세스에 작업 공간을 배치하고 실제 메모리보다 큰 가상공간을 제공한다
  3. 파일 시스템 관리: 데이터를 저장하고 접근할 수 있는 인터페이스를 제공한다
  4. 입출력 관리: 필요한 입력과 출력 서비스를 제공한다
  5. 프로세스 간 통신 관리: 공동 작업을 위한 각 프로세스 간 통신 환경을 지원한다
- 커널의 종류
  - 커널의 핵심 기능은 유기적으로 복잡하게 얽혀 있어 기능을 어떻게 구현하는가에 따라 단일형 구조 커널, 계층형 구조 커널, 마이크로 구조 커널로 구분된다
  1. 단일형 구조(monolithic architecture) 커널
     - 단일형 구조 커널은 초창기 운영체제의 구조로, 커널의 핵심 기능을 구현하는 모듈이 구분 없이 하나로 구성되어 있다
     - 단일형 구조에 속하는 대표적인 운영체제는 MS-ODS, VMS, 초기의 유닉스 운영체제 이다
     - 장점
       1. 모듈이 거의 분리되지 않아 모듈 간의 통신 비용이 줄어들어 효율적인 운영이 가능하다
     - 단점
       1. 모든 모듈이 하나로 묶여 있어 버그나 오류를 처리하기 어렵다
       2. 여러 기능이 서로 연결되어 상호 의존성이 높기 때문에 작은 기능상의 결함이 시스템 전체로 확산될 수 있다
       3. 다양한 환경의 시스템에 적용하기 어렵다
     - ![단일형 구조 커널](images/part1/monolithic-structure-kernel.png)
  2. 계층형 구조(layered architecture) 커널
     - 계층형 구조 커널은 비슷한 기능을 가진 모듈을 묶어서 하나의 계층으로 만들고 계층 간의 통신을 통해 운영체제를 구현하는 방식이다
     - 마이크로소프트의 윈도우를 비롯해 오늘날의 운영체제는 대부분 계층형 구조로 이루어져 있다
     - 장점
       1. 비슷한 기능을 모아 모듈화했기 때문에 단일형 구조보다 버그나 오류를 쉽게 처리할 수 있다
     - ![계층형 구조 커널](images/part1/layered-architecture-kernel.png)
  3. 마이크로 구조(micro architecture) 커널
     - 계층형 구조 커널 소스가 방대해짐에 따라 오류를 잡기도 어려워졌다. 이러한 문제를 해결하기 위해 계층형 구조의 접근 방식과 반대되는 접근 방식으로 개발된 것이 마이크로 구조 커널이다
     - 마이크로 구조 커널의 운영체제는 프로세스 관리, 메모리 관리, 프로세스 간 통신 관리 등 가장 기본적인 기능만 제공한다
     - 장점
       1. 마이크로 구조 커널에서 각 모듈은 독립적으로 작동하기 떄문에 하나의 모듈이 실패하더라도 전체 운영체제가 멈추지 않는다.
       2. 커널을 이식하기 쉽고 가벼워서 CPU 용량이 작은 시스템에도 적용할 수 있다.
     - 마이크로 구조 커널을 사용하는 대표적인 운영체제인 마하([Mach](https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KernelProgramming/Mach/Mach.html))는 애플의 PC 운영체제인 OS X와 모바일 운영체제인 iOS의 커널로 사용되며 유명해졌다
     - ![Alt text](images/part1/micro-architecture-kernel.png)

#### 가상머신

- 가상머신(virtual machine)이란
  - 가상머신은 하나의 컴퓨터에서 여러 운영체제를 동시에 실행할 수 있도록 하는 소프트웨어다